{"version":3,"sources":["core/state.ts","core/utils.ts","content.json","core/input.ts","core/gui.ts","../node_modules/stats.js/build/stats.min.js","core/entities/penguin.ts","core/entities/billboard.ts","core/main.ts","core/timers.ts","index.ts"],"names":["module","exports","all_news","title","content","gaming","music","films","sport","politics","educational"],"mappings":";;AA0DA,IAAA,EAAA,UAAA,GAAA,SAAA,EAAA,GAAA,OAAA,EAAA,mBAAA,QAAA,iBAAA,OAAA,SAAA,SAAA,GAAA,cAAA,GAAA,SAAA,GAAA,OAAA,GAAA,mBAAA,QAAA,EAAA,cAAA,QAAA,IAAA,OAAA,UAAA,gBAAA,IAAA,GAAA,SAAgB,EAAM,GACf,IAAA,EAAc,OAMb,MAJ6B,WAAhC,EAAO,EAAO,iBACjB,EAAO,cAAgB,GAAoB,IAGrC,EAAO,cAPf,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,MAAA;;ACwHA,aA5KA,SAAgB,EAAK,EAAY,EAAY,GACrC,OAAA,GAAM,EAAI,GAAK,EAAK,EAO5B,SAAgB,EAAU,GACnB,IAAA,EAAQ,IAAI,MAEX,OADP,EAAM,IAAM,EACL,EAOR,SAAgB,EAAa,GACrB,OAAA,IAAI,QAAQ,SAAC,EAAS,GACtB,IAAA,EAAQ,IAAI,MAClB,EAAM,OAAS,WAAM,OAAA,EAAQ,IAC7B,EAAM,IAAM,IASd,SAAgB,EAAc,EAAiB,GACzC,IAAA,IAAI,EAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CAGjC,IAFC,IAAA,EAAQ,EAAM,GAEX,EAAI,EAAI,EAAG,GAAK,GAAK,EAAM,GAAG,GAAS,EAAM,GAAQ,IAC7D,EAAM,EAAI,GAAK,EAAM,GAGtB,EAAM,EAAI,GAAK,EAGT,OAAA,EAQR,SAAgB,EAAc,EAAa,GACnC,OAAA,KAAK,MAAM,KAAK,UAAY,EAAM,EAAM,IAAM,EAUtD,SAAgB,EAAa,EAAe,EAAwC,GAC3E,OAAC,EAAQ,EAAS,MAAQ,EAAS,IAAM,EAAS,MAAS,EAAS,IAAM,EAAS,KAAO,EAAS,IAQ5G,SAAgB,EAAQ,GAKhB,IAJH,IACA,EACA,EAFA,EAAuB,EAAM,OAI1B,IAAM,GACZ,EAAc,KAAK,MAAM,KAAK,SAAW,GAGzC,EAAiB,EAFjB,GAAgB,GAGhB,EAAM,GAAgB,EAAM,GAC5B,EAAM,GAAe,EAGf,OAAA,EAOR,SAAgB,EAAgB,GACxB,OAAA,KAAK,MAAM,KAAK,SAAW,EAAM,QAQzC,SAAgB,EAAgB,EAAsB,GACjD,IAAA,EAAQ,KAAK,MACb,GAAW,EAkBR,OAhBE,SAAA,IACJ,IAEU,KAAK,MACG,GAET,IACZ,IACA,EAAQ,KAAK,OAGd,OAAO,sBAAsB,IAG9B,GAEO,SAAC,GACH,EACH,EAAQ,EAER,GAAW,GAUd,SAAgB,EAAe,EAAsB,GAChD,IAAA,EAAQ,KAAK,MACb,GAAW,EAkBR,OAhBE,SAAA,IACJ,IAEU,KAAK,MACG,GAET,EACZ,IAID,OAAO,sBAAsB,IAG9B,GAEO,WACN,GAAW,GAQb,SAAgB,EAAiB,GACzB,OAAA,EAAI,WAAW,QAAQ,wBAAyB,KAQxD,SAAgB,EAAQ,EAAgB,QAAA,IAAA,IAAA,GAAA,GACjC,IAAA,EAAiB,EAAK,OAAO,SAAC,EAAG,GAAM,OAAA,EAAI,GAAG,GAAK,EAAK,OACvD,OAAA,EAAQ,KAAK,MAAM,GAAU,EAFrC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,QAAA,iBAAA,QAAA,eAAA,QAAA,gBAAA,QAAA,gBAAA,QAAA,QAAA,QAAA,aAAA,QAAA,cAAA,QAAA,cAAA,QAAA,aAAA,QAAA,UAAA,QAAA,UAAA,EA5KA,QAAA,KAAA,EAQA,QAAA,UAAA,EAUA,QAAA,aAAA,EAaA,QAAA,cAAA,EAmBA,QAAA,cAAA,EAWA,QAAA,aAAA,EASA,QAAA,QAAA,EAqBA,QAAA,gBAAA,EASA,QAAA,gBAAA,EAkCA,QAAA,eAAA,EA6BA,QAAA,iBAAA,EASA,QAAA,QAAA;;AClLAA,OAAOC,QAAQ,CAACC,SAAS,CAAC,CAACC,MAAM,kBAAkBC,QAAQ,6EAA6EC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,GAAGC,YAAY,GAAG,CAACP,MAAM,oBAAoBC,QAAQ,4DAA4DC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,GAAGC,YAAY,GAAG,CAACP,MAAM,sBAAsBC,QAAQ,yCAAyCC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,GAAGC,YAAY,GAAG,CAACP,MAAM,sBAAsBC,QAAQ,gCAAgCC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,GAAGC,YAAY,GAAG,CAACP,MAAM,0BAA0BC,QAAQ,8BAA8BC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,GAAGC,YAAY,GAAG,CAACP,MAAM,oCAAoCC,QAAQ,mCAAmCC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,GAAGC,YAAY,GAAG,CAACP,MAAM,2BAA2BC,QAAQ,2DAA2DC,OAAO,GAAGC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,8BAA8BC,QAAQ,uCAAuCC,OAAO,GAAGC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,yBAAyBC,QAAQ,kEAAkEC,OAAO,GAAGC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,mCAAmCC,QAAQ,uDAAuDC,OAAO,GAAGC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,6BAA6BC,QAAQ,8BAA8BC,OAAO,GAAGC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,6BAA6BC,QAAQ,8BAA8BC,OAAO,GAAGC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,8BAA8BC,QAAQ,qCAAqCC,OAAO,EAAEC,MAAM,GAAGC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,+BAA+BC,QAAQ,uDAAuDC,OAAO,EAAEC,MAAM,GAAGC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,sCAAsCC,QAAQ,qEAAqEC,OAAO,EAAEC,MAAM,GAAGC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,sDAAsDC,QAAQ,gCAAgCC,OAAO,EAAEC,MAAM,GAAGC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,uBAAuBC,QAAQ,0CAA0CC,OAAO,EAAEC,MAAM,GAAGC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,gCAAgCC,QAAQ,4BAA4BC,OAAO,EAAEC,MAAM,GAAGC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,oCAAoCC,QAAQ,uDAAuDC,OAAO,EAAEC,MAAM,EAAEC,MAAM,GAAGC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,kCAAkCC,QAAQ,iCAAiCC,OAAO,EAAEC,MAAM,EAAEC,MAAM,GAAGC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,yCAAyCC,QAAQ,sDAAsDC,OAAO,EAAEC,MAAM,EAAEC,MAAM,GAAGC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,0BAA0BC,QAAQ,+CAA+CC,OAAO,EAAEC,MAAM,EAAEC,MAAM,GAAGC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,gDAAgDC,QAAQ,iCAAiCC,OAAO,EAAEC,MAAM,EAAEC,MAAM,GAAGC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,iCAAiCC,QAAQ,oBAAoBC,OAAO,EAAEC,MAAM,EAAEC,MAAM,GAAGC,MAAM,EAAEC,SAAS,EAAEC,YAAY,GAAG,CAACP,MAAM,oCAAoCC,QAAQ,8BAA8BC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,IAAI,CAACP,MAAM,gDAAgDC,QAAQ,kBAAkBC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,IAAI,CAACP,MAAM,2BAA2BC,QAAQ,4BAA4BC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY,IAAI,CAACP,MAAM,0BAA0BC,QAAQ,uDAAuDC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,YAAY;;ACwBlmI,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAxBA,IAAA,EAAA,QAAA,WAGM,EAAkB,EAAA,QAGxB,OAAO,iBAAiB,SAAU,WACjC,EAAK,QAAQ,MAAQ,OAAO,WAAa,OAAO,iBAC7C,EAAK,QAAQ,OAAS,OAAO,YAAc,OAAO,mBAItD,EAAK,QAAQ,iBAAiB,YAAa,SAAA,GACpC,IAAA,EAAgB,EAAK,QAAQ,wBACnC,EAAK,QAAW,EAAM,QAAU,EAAK,OAAS,EAAK,MAAQ,EAAK,MAAS,EAAK,QAAQ,MACtF,EAAK,QAAW,EAAM,QAAU,EAAK,MAAQ,EAAK,OAAS,EAAK,KAAQ,EAAK,QAAQ,SAItF,EAAK,QAAQ,iBAAiB,YAAa,WAC1C,EAAK,WAAY,IAIlB,EAAK,QAAQ,iBAAiB,UAAW,WACxC,EAAK,WAAY;;AC4HjB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IArJD,IAAA,EAAA,QAAA,WAIM,EAAkB,EAAA,QAGlB,EAAU,SAAS,eAAe,WAClC,EAAU,SAAS,eAAe,WAClC,EAAQ,SAAS,eAAe,SAChC,EAAO,SAAS,eAAe,QAC/B,EAAU,SAAS,eAAe,QAClC,EAAQ,SAAS,eAAe,aAEhC,EAAW,SAAS,eAAe,UACnC,EAAW,SAAS,eAAe,eACnC,EAAW,SAAS,eAAe,YACnC,EAAW,SAAS,eAAe,SACnC,EAAY,SAAS,eAAe,SACpC,EAAa,SAAS,eAAe,SAgG3C,SAAS,IACR,EAAS,UAAU,OAAO,UAC1B,EAAS,UAAU,OAAO,UAC1B,EAAS,UAAU,OAAO,UAC1B,EAAS,UAAU,OAAO,UAC1B,EAAU,UAAU,OAAO,UAC3B,EAAW,UAAU,OAAO,UAG7B,SAAS,IACJ,IAAA,EAAW,SACX,EAAkB,EAIlB,IAAA,IAAM,KAFV,EAAK,SAAU,EAEE,EAAK,UAAW,CAC1B,IAAA,EAAW,EAAK,UAAU,GAE5B,GAAY,IACf,EAAW,EACX,EAAkB,GAIhB,IAAA,EAAgB,SAAS,cAAc,iBACrB,OAAlB,IAEJ,QAAQ,IAAI,EAAc,GAAI,GAG1B,EAAK,UAAY,KAAK,EAAK,UAAY,IACvC,EAAc,KAAO,IAAU,EAAK,WAAa,IAErD,EAAQ,UAAW,GA9HpB,EAAQ,iBAAiB,QAAS,WACjC,EAAM,MAAM,IAAM,MAClB,EAAQ,MAAM,QAAU,IACxB,EAAQ,MAAM,cAAgB,OAC9B,EAAK,QAAQ,MAAM,UAAY,6BAC/B,EAAK,QAAS,IAGf,EAAQ,iBAAiB,QAAS,WACjC,EAAM,MAAM,IAAM,OAClB,EAAQ,MAAM,QAAU,IACxB,EAAQ,MAAM,cAAgB,OAC9B,EAAK,QAAQ,MAAM,UAAY,WAC/B,EAAK,QAAS,EAEd,IACA,MAGD,EAAQ,iBAAiB,QAAS,WACjC,EAAK,MAAM,KAAO,QAClB,EAAM,MAAM,IAAM,OAClB,EAAQ,MAAM,QAAU,IACxB,EAAQ,MAAM,cAAgB,OAC9B,EAAK,QAAQ,MAAM,UAAY,WAC/B,EAAK,QAAS,EACd,MAGD,EAAM,iBAAiB,QAAS,WAC/B,EAAK,QAAS,EACd,EAAK,MAAM,KAAO,MAClB,EAAQ,MAAM,QAAU,IACxB,EAAQ,MAAM,cAAgB,SAI/B,EAAS,iBAAiB,QAAS,WAC7B,EAAS,UAAU,SAAS,UAIhC,EAAS,UAAU,OAAO,WAH1B,IACA,EAAS,UAAU,IAAI,aAMzB,EAAS,iBAAiB,QAAS,WAC7B,EAAS,UAAU,SAAS,UAIhC,EAAS,UAAU,OAAO,WAH1B,IACA,EAAS,UAAU,IAAI,aAOzB,EAAS,iBAAiB,QAAS,WAC7B,EAAS,UAAU,SAAS,UAIhC,EAAS,UAAU,OAAO,WAH1B,IACA,EAAS,UAAU,IAAI,aAMzB,EAAS,iBAAiB,QAAS,WAC7B,EAAS,UAAU,SAAS,UAIhC,EAAS,UAAU,OAAO,WAH1B,IACA,EAAS,UAAU,IAAI,aAOzB,EAAU,iBAAiB,QAAS,WAC9B,EAAU,UAAU,SAAS,UAIjC,EAAU,UAAU,OAAO,WAH3B,IACA,EAAU,UAAU,IAAI,aAM1B,EAAW,iBAAiB,QAAS,WAC/B,EAAW,UAAU,SAAS,UAIlC,EAAW,UAAU,OAAO,WAH5B,IACA,EAAW,UAAU,IAAI;;;ACxG3B,IAAA,GAJA,SAAA,EAAA,GAAA,iBAAA,SAAA,oBAAA,OAAA,OAAA,QAAA,IAAA,mBAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,MAAA,IAAA,CAAA,KAAA,WAAA,IAAA,EAAA,WAAA,SAAA,EAAA,GAAA,OAAA,EAAA,YAAA,EAAA,KAAA,EAAA,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,SAAA,OAAA,IAAA,EAAA,SAAA,GAAA,MAAA,QAAA,IAAA,EAAA,QAAA,OAAA,EAAA,EAAA,IAAA,EAAA,EAAA,EAAA,SAAA,cAAA,OAAA,EAAA,MAAA,QAAA,uEAAA,EAAA,iBAAA,QAAA,SAAA,GAAA,EAAA,iBACA,IAAA,EAAA,EAAA,SAAA,UAAA,GAAA,IAAA,GAAA,aAAA,MAAA,MAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,MAAA,OAAA,SAAA,EAAA,EAAA,IAAA,EAAA,MAAA,KAAA,OAAA,SAAA,GAAA,KAAA,aAAA,KAAA,YAAA,OAAA,IAAA,EAAA,EAAA,IAAA,EAAA,MAAA,KAAA,OAAA,SAAA,OAAA,EAAA,GAAA,CAAA,SAAA,GAAA,IAAA,EAAA,SAAA,EAAA,UAAA,EAAA,MAAA,WAAA,GAAA,aAAA,MAAA,OAAA,IAAA,WAAA,IAAA,IAAA,GAAA,aAAA,MAAA,MAAA,GAAA,EAAA,OAAA,EAAA,EAAA,KAAA,EAAA,EAAA,MAAA,EAAA,OAAA,IAAA,GAAA,EAAA,GAAA,KAAA,EAAA,EAAA,EAAA,EAAA,GAAA,CAAA,IAAA,EAAA,YAAA,OAAA,EAAA,OAAA,EAAA,eACA,QAAA,EAAA,gBAAA,SAAA,OAAA,GAAA,OAAA,WAAA,EAAA,KAAA,OAAA,WAAA,EAAA,QAAA,IACA,OADA,EAAA,MAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,KAAA,MAAA,EAAA,EAAA,OAAA,kBAAA,GAAA,EAAA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA,SAAA,cAAA,UAAA,EAAA,MAAA,EAAA,EAAA,OAAA,EAAA,EAAA,MAAA,QAAA,yBAAA,IAAA,EAAA,EAAA,WAAA,MACA,OADA,EAAA,KAAA,QAAA,EAAA,EAAA,gCAAA,EAAA,aAAA,MAAA,EAAA,UAAA,EAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,EAAA,UAAA,EAAA,EAAA,SAAA,EAAA,EAAA,GACA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,EAAA,UAAA,EAAA,EAAA,YAAA,GAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,CAAA,IAAA,EAAA,OAAA,SAAA,EAAA,GAAA,EAAA,KAAA,IAAA,EAAA,GAAA,EAAA,KAAA,IAAA,EAAA,GAAA,EAAA,UAAA,EAAA,EAAA,YAAA,EAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,EAAA,UAAA,EAAA,EAAA,SAAA,EAAA,GAAA,IAAA,EAAA,KAAA,EAAA,GAAA,IAAA,EAAA,GAAA,IAAA,EAAA,GAAA,EAAA,UAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,UAAA,EAAA,EAAA,YAAA,GAAA,EAAA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,GAAA,OAAA;;;;;;ACUa,aAAA,IAAA,EAAA,MAAA,KAAA,iBAAA,SAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAdb,IAAA,EAAA,QAAA,YACA,EAAA,QAAA,YAGA,EAAA,EAAA,QAAA,mCACA,EAAA,EAAA,QAAA,oCAGM,EAAc,EAAA,UAAU,EAAA,SACxB,EAAe,EAAA,UAAU,EAAA,SAGzB,EAAkB,EAAA,QAExB,EAAA,WAmBC,SAAA,EAAY,EAAW,GAlBP,KAAA,KAAO,UACP,KAAA,aAAe,GACf,KAAA,YAAc,GAiBxB,KAAA,EAAI,EACJ,KAAA,EAAI,EACJ,KAAA,SAA6B,IAAlB,EAAK,SAEhB,KAAA,MAAQ,WACR,KAAA,MAAQ,EAAA,cAAc,EAAG,IACzB,KAAA,UAAY,EAAA,cAAc,EAAG,GAAK,OAAS,QAE3C,KAAA,MAAQ,KAAK,YAAc,EAC3B,KAAA,OAAS,EACT,KAAA,QAAS,EACT,KAAA,YAAc,EAAA,cAAc,GAAI,KAwHvC,OAlHQ,EAAA,UAAA,KAAP,WACO,IAAA,EAAM,EAAK,IAEb,GAAC,EAAK,SAGL,KAAK,QAAW,KAAK,QAAtB,CAEE,IAAA,EAA4B,SAAnB,KAAK,UAAuB,EAAc,EACnD,EAAO,EAAA,aAAa,KAAK,EAAG,CAAE,IAAK,EAAG,IAAK,EAAK,QAAQ,QAAU,CAAE,IAAK,EAAG,IAAK,IACjF,EAAO,EAAA,aAAa,KAAK,EAAG,CAAE,IAAK,EAAG,IAAK,EAAK,QAAQ,QAAU,CAAE,IAAK,EAAK,QAAQ,OAAS,EAAG,IAAK,EAAK,QAAQ,SAGtH,EAAO,IAEX,EAAI,OACJ,EAAI,UAAU,KAAK,EAAG,GACtB,EAAI,MAAM,EAAM,GAEhB,EAAI,UAAU,GAAU,KAAK,MAAQ,EAAmB,GAAd,KAAK,OAAa,KAAK,MAAO,KAAK,QAC7E,EAAI,aAUE,EAAA,UAAA,OAAP,WACO,IAAA,EAAgB,EAAK,QAAQ,MAC7B,EAAiB,EAAK,QAAQ,OAEhC,GAAC,EAAK,SAGL,KAAK,OAAN,CAYA,GATC,KAAA,aAAe,IAGhB,EAAK,WAAa,KAAK,KAAK,aAAe,KAG3C,EAAK,WAAa,IAAG,KAAK,aAAe,KAGzC,KAAK,aAAe,EAAG,CACtB,IAAC,KAAK,QAET,YADK,KAAA,QAAS,GAIX,GAAA,EAAK,SAAU,CACZ,IAAA,EAAgB,EAAK,SAAS,KAAK,SAAA,GACjC,MAAgB,YAAhB,EAAO,MAAsB,EAAO,YAAc,IAAwB,IAAnB,EAAO,UAGlE,GAAA,EAIH,OAHK,KAAA,YAAc,EAAc,YACjC,EAAc,YAAc,OAC5B,EAAc,QAAS,GAGlB,KAAA,MAAQ,eAGT,KAAA,MAAQ,UAKV,KAAK,UAGL,KAAA,OAAS,EACV,KAAK,MAAQ,KAAI,KAAK,MAAQ,GAGf,IAAf,KAAK,QAAa,EAAK,OAAS,IAGjB,YAAf,KAAK,QACH,KAAA,OAAS,KAAK,OAAS,GAAK,EAAA,KAAK,KAAK,OAAQ,KAAK,aAAe,GAAI,IAAO,EAAA,KAAK,KAAK,OAAQ,KAAK,aAAe,EAAG,IAEpG,SAAnB,KAAK,WACH,KAAA,GAAK,EAAA,aAAa,KAAK,EAAG,CAAE,IAAK,EAAG,IAAK,GAAU,CAAE,IAAK,EAAG,IAAK,IACnE,KAAK,IAAM,KAAK,QAAO,KAAK,EAAI,EAAQ,KAAK,SAE5C,KAAA,GAAK,EAAA,aAAa,KAAK,EAAG,CAAE,IAAK,EAAG,IAAK,GAAU,CAAE,IAAK,EAAG,IAAK,IACnE,KAAK,GAAK,EAAQ,KAAK,QAAO,KAAK,GAAK,KAAK,SAKhC,aAAf,KAAK,QACH,KAAA,MAAQ,EAAA,KAAK,KAAK,MAAO,KAAK,YAAa,IAC3C,KAAA,OAAS,EAAA,KAAK,KAAK,OAAQ,KAAK,aAAc,IAAO,GACtD,KAAK,QAAU,KAAK,eAClB,KAAA,MAAQ,UACR,KAAA,MAAQ,KAAK,YACb,KAAA,OAAS,KAAK,eAKF,YAAf,KAAK,QACH,KAAA,MAAQ,EAAA,KAAK,KAAK,MAAO,EAAG,IAC5B,KAAA,OAAS,EAAA,KAAK,KAAK,OAAQ,EAAG,IAAO,GACtC,KAAK,QAAU,KAAI,KAAK,QAAS,OAGxC,EAvJA,GAAa,QAAA,QAAA;;;;ACFA,aAAA,IAAA,EAAA,MAAA,KAAA,iBAAA,SAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAZb,IAAA,EAAA,QAAA,YACA,EAAA,QAAA,YAGA,EAAA,EAAA,QAAA,gCAGM,EAAY,EAAA,UAAU,EAAA,SAGtB,EAAkB,EAAA,QAExB,EAAA,WAaI,SAAA,IACS,KAAA,EAAI,EAAK,QAAQ,MAAQ,EACzB,KAAA,EAAI,EAAK,QAAQ,OAAS,IAC1B,KAAA,MAAQ,IACR,KAAA,OAAS,IACT,KAAA,QAAS,EAuCtB,OAjCW,EAAA,UAAA,KAAP,WACU,IAAA,EAAM,EAAK,IAEX,EAAQ,EAAA,iBAAiB,KAAK,MAAM,EAAK,QACzC,EAAW,EAAK,QAAU,EAAA,iBAAiB,EAAK,SAAS,OAAS,GAAK,EACvE,EAAY,EAAK,UAAU,QAAQ,GAEnC,EAAO,EAAA,aAAa,KAAK,EAAG,CAAE,IAAK,EAAG,IAAK,EAAK,QAAQ,QAAU,CAAE,IAAK,EAAG,IAAK,IACjF,EAAO,EAAA,aAAa,KAAK,EAAG,CAAE,IAAK,EAAG,IAAK,EAAK,QAAQ,QAAU,CAAE,IAAK,EAAK,QAAQ,OAAS,EAAG,IAAK,EAAK,QAAQ,SAE1H,EAAI,OACJ,EAAI,UAAU,KAAK,EAAG,GACtB,EAAI,MAAM,EAAM,GAEhB,EAAI,UAAU,GAAa,KAAK,MAAQ,EAAmB,GAAd,KAAK,OAAa,KAAK,MAAO,KAAK,QAChF,EAAI,UAEJ,EAAI,KAAO,uBACX,EAAI,UAAY,SAGhB,EAAI,SAAS,cAAc,EAAa,KAAK,EAAG,EAAO,KACvD,EAAI,SAAS,UAAU,EAAS,KAAK,EAAG,EAAO,KAC/C,EAAI,SAAS,aAAa,EAAY,KAAK,EAAG,EAAO,MAMlD,EAAA,UAAA,OAAP,WACS,KAAA,EAAI,EAAK,QAAQ,MAAQ,EACzB,KAAA,EAAI,EAAK,QAAQ,OAAS,KAEvC,EAzDA,GAAa,QAAA,UAAA;;AC8Db,aAAA,IAAA,EAAA,MAAA,KAAA,iBAAA,SAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,IAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IA1EA,IAAA,EAAA,EAAA,QAAA,aACA,EAAA,QAAA,WACA,EAAA,QAAA,WAGA,EAAA,QAAA,sBACA,EAAA,QAAA,wBAGM,EAAQ,IAAI,EAAA,QAClB,EAAM,UAAU,GAOhB,IAHA,IAAM,EAAkB,EAAA,QAGf,EAAI,EAAG,EAAI,GAAI,IAAK,CACtB,IAAA,EAAI,EAAA,cAAc,EAAG,EAAK,QAAQ,OAClC,EAAI,EAAA,cAAc,EAAK,QAAQ,OAAS,EAAG,EAAK,QAAQ,OAAS,IACjE,EAAU,IAAI,EAAA,QAAQ,EAAG,GAC/B,EAAK,SAAS,KAAK,GAIpB,IAAM,EAAY,IAAI,EAAA,UAItB,SAAS,IAEJ,GAAA,EAAK,OACR,OAAO,sBAAsB,OAD1B,CAMA,EAAK,SAAS,OAAS,IAC1B,EAAK,UAAW,EAEhB,EAAK,UAAW,EAGjB,EAAM,QAGD,IAAA,IAAI,EAAI,EAAG,EAAI,EAAK,SAAS,OAAQ,IACzC,EAAK,SAAS,GAAG,SAIlB,EAAK,SAAW,EAAK,SAAS,OAAO,SAAA,GAC7B,OAAA,EAAO,SAIf,EAAK,IAAI,UAAU,EAAG,EAAG,EAAK,QAAQ,MAAO,EAAK,QAAQ,QAGrD,IAAI,EAAI,EAAG,EAAI,EAAK,SAAS,OAAQ,IACzC,EAAK,SAAS,GAAG,OAGlB,EAAM,MACN,OAAO,sBAAsB,IAtC9B,EAAK,SAAS,KAAK,GA0CnB,SAAS,eAAe,gBAAgB,QAAU,WACjD,IACA,EAAK,QAAS,EACd,SAAS,eAAe,cAAc,UAGvC,EAAK,QAAS;;ACkGb,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IA5KD,IAAA,EAAA,QAAA,sBACA,EAAA,QAAA,WACA,EAAA,QAAA,WAGM,EAAkB,EAAA,QAGlB,EAAO,SAAS,eAAe,QAG/B,EAAe,EAAA,gBAAgB,WAChC,EAAK,QACT,KACE,KAGC,EAAiB,IACrB,EAAA,gBAAgB,WACX,GAAkB,KAGtB,EADA,GAAkB,MAEhB,KAGH,IAAI,GAAuB,EA6C3B,SAAS,IACF,IAAA,EAAQ,EAAK,UACb,EAAY,EAAK,UAEjB,EAAS,EAAK,KAAK,GACnB,EAAU,EAAK,KAAK,EAAQ,GAC5B,EAAQ,EAAK,KAAK,EAAQ,GAG1B,EAAW,EAAK,cAAc,QAChC,GAAU,EAAS,SAGjB,IAAA,EAAY,SAAS,cAAc,OACzC,EAAU,UAAY,kBAGhB,IAAA,EAAQ,SAAS,cAAc,MACrC,EAAM,UAAY,EAAO,MAGnB,IAAA,EAAU,SAAS,cAAc,KACvC,EAAQ,UAAY,EAAO,QAG3B,EAAU,YAAY,GACtB,EAAU,YAAY,GACtB,EAAK,YAAY,GAGX,IAAA,EAAW,EAAK,cAAc,mBAChC,IAAU,EAAS,UAAY,kBAE7B,IAAA,EAAW,EAAK,cAAc,mBAChC,IAAU,EAAS,UAAY,kBAE7B,IAAA,EAAY,EAAK,cAAc,oBACjC,IAAW,EAAU,UAAY,kBAErC,WAAW,WACJ,IAAA,EAAY,EAAK,cAAc,SACjC,IAAW,EAAU,UAAY,qBAGtC,EAAU,OAAS,EAAA,QAAQ,CAC1B,EAAO,OACP,EAAU,EAAQ,OAAS,EAAO,OAClC,EAAQ,EAAM,OAAS,EAAO,SAG/B,EAAU,MAAQ,EAAA,QAAQ,CACzB,EAAO,MACP,EAAU,EAAQ,MAAQ,EAAO,MACjC,EAAQ,EAAM,MAAQ,EAAO,QAG9B,EAAU,MAAQ,EAAA,QAAQ,CACzB,EAAO,MACP,EAAU,EAAQ,MAAQ,EAAO,MACjC,EAAQ,EAAM,MAAQ,EAAO,QAG9B,EAAU,MAAQ,EAAA,QAAQ,CACzB,EAAO,MACP,EAAU,EAAQ,MAAQ,EAAO,MACjC,EAAQ,EAAM,MAAQ,EAAO,QAG9B,EAAU,SAAW,EAAA,QAAQ,CAC5B,EAAO,SACP,EAAU,EAAQ,SAAW,EAAO,SACpC,EAAQ,EAAM,SAAW,EAAO,WAGjC,EAAU,YAAc,EAAA,QAAQ,CAC/B,EAAO,YACP,EAAU,EAAQ,YAAc,EAAO,YACvC,EAAQ,EAAM,YAAc,EAAO,cAIhC,EAAU,OAAS,IAAG,EAAU,OAAS,GACzC,EAAU,MAAQ,IAAG,EAAU,MAAQ,GACvC,EAAU,MAAQ,IAAG,EAAU,MAAQ,GACvC,EAAU,MAAQ,IAAG,EAAU,MAAQ,GACvC,EAAU,SAAW,IAAG,EAAU,SAAW,GAC7C,EAAU,YAAc,IAAG,EAAU,YAAc,GAGnD,EAAU,OAAS,KAAI,EAAU,OAAS,IAC1C,EAAU,MAAQ,KAAI,EAAU,MAAQ,IACxC,EAAU,MAAQ,KAAI,EAAU,MAAQ,IACxC,EAAU,MAAQ,KAAI,EAAU,MAAQ,IACxC,EAAU,SAAW,KAAI,EAAU,SAAW,IAC9C,EAAU,YAAc,KAAI,EAAU,YAAc,IAExD,QAAQ,IAAI,GACX,SAAS,eAAe,WAAiC,UAAW,EAErE,EAAK,WAAa,EACd,EAAK,WAAa,EAAK,KAAK,SAAQ,EAAK,UAAY,GA9I1D,EAAA,gBAAgB,WACX,EAAK,QACJ,EAAK,UAGN,EAAK,SAAS,OAAS,MAAM,GAAuB,GACpD,GAAwB,EAAK,UAAY,KAAK,EAAK,WAAa,IAEpE,EAAK,WAAa,IACd,EAAK,UAAY,MAAK,EAAK,WAAa,KAGxC,EAAK,UAAY,IAAG,EAAK,UAAY,GACrC,EAAK,UAAY,IAAG,EAAK,UAAY,KACvC,KAKH,EAAA,gBAAgB,WACX,IAAA,EAAK,QACJ,EAAK,QAAN,CAEE,IACA,EAAoB,EAAK,SAAS,OADhB,EAGpB,EAAU,KAAK,MAAM,EAAoB,EAAK,WAAa,EAC3D,EAAK,UAAY,IAAG,GAAW,GAE9B,IAAA,IAAI,EAAI,EAAG,EAAI,EAAS,IAAK,CAC3B,IAAA,EAAI,EAAA,cAAc,EAAG,EAAK,QAAQ,OAClC,EAAI,EAAA,cAAc,EAAK,QAAQ,OAAS,EAAG,EAAK,QAAQ,OAAS,IACjE,EAAU,IAAI,EAAA,QAAQ,EAAG,GAC/B,EAAK,SAAS,KAAK,GAGpB,EAAA,cAAc,EAAK,SAAU,OAC3B;;ACbH,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IArDA,IAAA,EAAA,QAAA,gBACA,EAAA,QAAA,gBAGA,EAAA,QAAA,kBAGM,EAAQ,SAAS,eAAe,SACtC,EAAM,MAAQ,OAAO,WAAa,OAAO,iBACzC,EAAM,OAAS,OAAO,YAAc,OAAO,iBAG3C,IAAM,EAAM,EAAM,WAAW,MAC7B,EAAI,uBAAwB,EAG5B,EAAA,MAAM,CACL,QAAQ,EACR,QAAS,EACT,IAAK,EACL,UAAU,EAEV,OAAQ,EACR,OAAQ,EACR,WAAW,EAEX,SAAU,GACV,SAAS,EACT,MAAO,EACP,UAAW,EACX,UAAW,CACV,OAAQ,EACR,MAAO,EACP,MAAO,EACP,MAAO,EACP,SAAU,EACV,YAAa,GAGd,KAAM,EAAA,QAAQ,EAAA,UACd,UAAW,IAIZ,QAAA,gBAGA,QAAA,cAGA,QAAA,eAGA,QAAA","file":"src.f17731fc.js","sourceRoot":"..\\src","sourcesContent":["import { Penguin } from './entities/penguin';\r\nimport { Billboard } from './entities/billboard';\r\n\r\n/**\r\n * Sctructure of the news post\r\n */\r\ninterface NewsBlock {\r\n\ttitle: string;\r\n    content: string;\r\n    \r\n\tgaming: number;\r\n\tmusic: number;\r\n\tfilms: number;\r\n\tsport: number;\r\n\tpolitics: number;\r\n\teducational: number;\r\n}\r\n\r\n/**\r\n * World interests\r\n */\r\ninterface Interests {\r\n\tgaming: number;\r\n\tmusic: number;\r\n\tfilms: number;\r\n\tsport: number;\r\n\tpolitics: number;\r\n\teducational: number;\r\n}\r\n\r\n/**\r\n * State of the game\r\n */\r\nexport interface GameState {\r\n\tpaused: boolean;\r\n\telement: HTMLCanvasElement;\r\n    ctx: CanvasRenderingContext2D;\r\n    optimize: boolean;\r\n\r\n\tmouseX: number;\r\n\tmouseY: number;\r\n\tmouseDown: boolean;\r\n\r\n    entities: Array<Penguin | Billboard>;\r\n\tstarted: boolean;\r\n\t\r\n\tviews: number;\r\n\trelevance: number;\r\n\tinterests: Interests;\r\n    \r\n\tnews: NewsBlock[];\r\n\tnewsIndex: number;\r\n}\r\n\r\n/**\r\n * Global state manager\r\n * @param initial Initial state. Will be used if state initialized for the first time.\r\n */\r\nexport function State(initial?: GameState): GameState {\r\n\tconst global: any = window;\r\n\r\n\tif (typeof global.__GameState__ !== 'object') {\r\n\t\tglobal.__GameState__ = initial ? initial : {};\r\n\t}\r\n\r\n\treturn global.__GameState__;\r\n}\r\n","/**\r\n * Linear interpolation function\r\n * @param v0 Range start\r\n * @param v1 Range end\r\n * @param t Position in range ( from 0 to 1 )\r\n */\r\nexport function lerp(v0: number, v1: number, t: number): number {\r\n\treturn v0 * (1 - t) + v1 * t;\r\n}\r\n\r\n/**\r\n * Load image\r\n * @param src Image path\r\n */\r\nexport function loadImage(src: string): HTMLImageElement {\r\n\tconst image = new Image();\r\n\timage.src = src;\r\n\treturn image;\r\n}\r\n\r\n/**\r\n * Preload image\r\n * @param src Image path\r\n */\r\nexport function preloadImage(src: string): Promise<HTMLImageElement> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst image = new Image();\r\n\t\timage.onload = () => resolve(image);\r\n\t\timage.src = src;\r\n\t});\r\n}\r\n\r\n/**\r\n * Sort objects by field\r\n * @param array Array to sort\r\n * @param field To sort by\r\n */\r\nexport function insertionSort(array: object[], field: string): object[] {\r\n\tfor (let i = 0; i < array.length; i++) {\r\n\t\tconst value = array[i];\r\n\r\n\t\tfor (var j = i - 1; j > -1 && array[j][field] > value[field]; j--) {\r\n\t\t\tarray[j + 1] = array[j];\r\n\t\t}\r\n\r\n\t\tarray[j + 1] = value;\r\n\t}\r\n\r\n\treturn array;\r\n}\r\n\r\n/**\r\n * Generate random integer\r\n * @param min Minimal\r\n * @param max Maximal\r\n */\r\nexport function randomInteger(min: number, max: number): number {\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\n/**\r\n * Convert value from one range to another\r\n * @param {Number} value value to convert\r\n * @param {Object} oldRange min, max of values range\r\n * @param {Object} newRange min, max of desired range\r\n * @return {Number} value converted to other range\r\n */\r\nexport function convertRange(value: number, oldRange: { min: number; max: number }, newRange: { min: number; max: number }) {\r\n\treturn ((value - oldRange.min) * (newRange.max - newRange.min)) / (oldRange.max - oldRange.min) + newRange.min;\r\n}\r\n\r\n/**\r\n * Shuffle array\r\n * Taken from https://stackoverflow.com/a/2450976/7442791\r\n * @param array Array to shuffle\r\n */\r\nexport function shuffle(array: any[]): any[] {\r\n\tlet currentIndex: number = array.length;\r\n\tlet temporaryValue: number;\r\n\tlet randomIndex: number;\r\n\r\n\twhile (0 !== currentIndex) {\r\n\t\trandomIndex = Math.floor(Math.random() * currentIndex);\r\n\t\tcurrentIndex -= 1;\r\n\r\n\t\ttemporaryValue = array[currentIndex];\r\n\t\tarray[currentIndex] = array[randomIndex];\r\n\t\tarray[randomIndex] = temporaryValue;\r\n\t}\r\n\r\n\treturn array;\r\n}\r\n\r\n/**\r\n * Get index of random value from array.\r\n * @param array Array to take from.\r\n */\r\nexport function randomFromArray(array: any[]): number {\r\n\treturn Math.floor(Math.random() * array.length);\r\n}\r\n\r\n/**\r\n * Alternative to `setInterval`, but using request animation frame\r\n * @param callback Callback that will be executed after delay\r\n * @param delay Delay before executing\r\n */\r\nexport function requestInterval(callback: () => void, delay: number): (number?: number) => void {\r\n\tlet start = Date.now();\r\n\tlet canceled = false;\r\n\r\n\tfunction loop() {\r\n\t\tif (canceled) return;\r\n\r\n\t\tlet current = Date.now();\r\n\t\tlet delta = current - start;\r\n\r\n\t\tif (delta >= delay) {\r\n\t\t\tcallback();\r\n\t\t\tstart = Date.now();\r\n\t\t}\r\n\r\n\t\twindow.requestAnimationFrame(loop);\r\n\t}\r\n\r\n\tloop();\r\n\r\n\treturn (number) => {\r\n\t\tif (number) {\r\n\t\t\tdelay = number;\r\n\t\t} else {\r\n\t\t\tcanceled = true;\r\n\t\t}\r\n\t};\r\n}\r\n\r\n/**\r\n * Alternative to `setTimeout`, but using request animation frame\r\n * @param callback Callback that will be executed after delay\r\n * @param delay Delay before executing\r\n */\r\nexport function requestTimeout(callback: () => void, delay: number): () => void {\r\n\tlet start = Date.now();\r\n\tlet canceled = false;\r\n\r\n\tfunction loop() {\r\n\t\tif (canceled) return;\r\n\r\n\t\tlet current = Date.now();\r\n\t\tlet delta = current - start;\r\n\r\n\t\tif (delta >= delay) {\r\n\t\t\tcallback();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.requestAnimationFrame(loop);\r\n\t}\r\n\r\n\tloop();\r\n\r\n\treturn () => {\r\n\t\tcanceled = true;\r\n\t};\r\n}\r\n\r\n/**\r\n * Add commas to number\r\n * @param number Number to add commas to\r\n */\r\nexport function numberWithCommas(num: number): string {\r\n\treturn num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n}\r\n\r\n/**\r\n * Calculate average value of all numbers\r\n * @param nums Array of number\r\n * @param floor Round returned value\r\n */\r\nexport function average(nums: number[], floor: boolean = true): number {\r\n\tconst result: number = nums.reduce((a, b) => a + b, 0) / nums.length;\r\n\treturn floor ? Math.floor(result) : result;\r\n}\r\n","module.exports={all_news:[{title:\"U.S. Elections!\",content:\"In a week we will know who will be the new president of the United States!\",gaming:1,music:1,films:1,sport:1,politics:10,educational:5},{title:\"President elected\",content:\"After recent president election, the winner take position\",gaming:1,music:1,films:1,sport:1,politics:10,educational:5},{title:\"New President rules\",content:\"New Statement from president came out!\",gaming:1,music:1,films:1,sport:1,politics:10,educational:2},{title:\"Britain post Brexit\",content:\"What has been effected by it?\",gaming:1,music:1,films:1,sport:1,politics:10,educational:5},{title:\"Migrant stuck in Bosnia\",content:\"What created such incident?\",gaming:1,music:1,films:1,sport:1,politics:10,educational:6},{title:\"President - Vaccines have arrive!\",content:\"What you should know about them?\",gaming:1,music:1,films:1,sport:1,politics:10,educational:6},{title:\"Cyberpunk 2077 released!\",content:\"One of the best upcoming games has been finaly released.\",gaming:10,music:1,films:1,sport:1,politics:1,educational:1},{title:\"Steam winter sale ends soon\",content:\"Quick grab some game on cheap price!\",gaming:10,music:1,films:1,sport:1,politics:1,educational:5},{title:\"Minecraft 2 confirmed!\",content:\"Markus Person confirmed that Minecraft 2 already in development\",gaming:10,music:1,films:1,sport:1,politics:1,educational:5},{title:\"New Fallout game to be released!\",content:\"Will franchise rise again after the 76 massive fail?\",gaming:10,music:1,films:1,sport:1,politics:1,educational:1},{title:\"Club Penguin 2 in making! \",content:\"Creators confirm, its real!\",gaming:10,music:1,films:1,sport:1,politics:1,educational:5},{title:\"New Minecraft update soon.\",content:\"What changes will there be?\",gaming:10,music:1,films:1,sport:1,politics:1,educational:5},{title:\"Lil Pump has made new song!\",content:\"The new song is titled Adidas Gang\",gaming:1,music:10,films:1,sport:1,politics:1,educational:2},{title:\"Grammys delayed due Covid-19\",content:\"Due to Covid-19 pandemic, grammy awards are delayed!\",gaming:1,music:10,films:1,sport:1,politics:4,educational:1},{title:\"New James Bond music is top  class.\",content:\"Song titled NO.TIME.TO.DIE brings new light into Jame bond films!.\",gaming:1,music:10,films:5,sport:1,politics:1,educational:2},{title:\"All I want for christmas - best song of generation?\",content:\"Will there ever be end to it?\",gaming:1,music:10,films:1,sport:1,politics:1,educational:2},{title:\"Dr. Dre in Hospital!\",content:\"What happened and should you be woried?\",gaming:1,music:10,films:1,sport:1,politics:5,educational:1},{title:\"New Ed Sheeran album released\",content:\"What now he has to offer?\",gaming:1,music:10,films:1,sport:1,politics:1,educational:2},{title:\"New Avengers movies to come soon!\",content:\"Marvel announced that Avengers cast will return soon\",gaming:1,music:1,films:10,sport:1,politics:1,educational:2},{title:\"New Star Wars movies announced!\",content:\"Will they be as bad as last 3?\",gaming:1,music:1,films:10,sport:1,politics:1,educational:2},{title:\"Petions made to ban Musicals in movies\",content:\"More then 100 000 000 sigantures have been colected\",gaming:1,music:1,films:10,sport:1,politics:1,educational:2},{title:\"New DC movies annouced!\",content:\"Will it ever be as popular as Marvels films?\",gaming:1,music:1,films:10,sport:1,politics:1,educational:2},{title:\"New documentary about WW2, has been released!\",content:\"What new insights to be found?\",gaming:1,music:1,films:10,sport:1,politics:1,educational:8},{title:\"Latvian movie recieves oscar!!\",content:\"Shock? What? How?\",gaming:1,music:1,films:10,sport:1,politics:1,educational:2},{title:\"Scientist found new large Meteor.\",content:\"What can we learn about it?\",gaming:1,music:1,films:1,sport:1,politics:1,educational:10},{title:\"How to study and concentrate better in School\",content:\"Tip and Tricks!\",gaming:1,music:1,films:1,sport:4,politics:1,educational:10},{title:\"DIY Hacks for Daily life\",content:\"Top 10 Hacks that you ...\",gaming:1,music:1,films:2,sport:1,politics:1,educational:10},{title:\"Maximum speed of human?\",content:\"Scientist doing reasearch of how fast can human run.\",gaming:1,music:1,films:1,sport:6,politics:1,educational:10}]};","import { State, GameState } from './state';\r\n\r\n// Get game state\r\nconst GAME: GameState = State();\r\n\r\n// On window resize\r\nwindow.addEventListener('resize', () => {\r\n\tGAME.element.width = window.innerWidth * window.devicePixelRatio;\r\n    GAME.element.height = window.innerHeight * window.devicePixelRatio;\r\n});\r\n\r\n// Mouse position calculation\r\nGAME.element.addEventListener('mousemove', event => {\r\n\tconst rect: DOMRect = GAME.element.getBoundingClientRect();\r\n\tGAME.mouseX = ((event.clientX - rect.left) / (rect.right - rect.left)) * GAME.element.width;\r\n\tGAME.mouseY = ((event.clientY - rect.top) / (rect.bottom - rect.top)) * GAME.element.height;\r\n});\r\n\r\n// On mouse down\r\nGAME.element.addEventListener('mousedown', () => {\r\n\tGAME.mouseDown = true;\r\n});\r\n\r\n// On mouse up\r\nGAME.element.addEventListener('mouseup', () => {\r\n\tGAME.mouseDown = false;\r\n});\r\n","import { State, GameState } from './state';\r\nimport { requestInterval } from './utils';\r\n\r\n// Get state\r\nconst GAME: GameState = State();\r\n\r\n// Elements\r\nconst newPost = document.getElementById('newPost') as HTMLButtonElement;\r\nconst overlay = document.getElementById('overlay');\r\nconst modal = document.getElementById('modal');\r\nconst menu = document.getElementById(`menu`);\r\nconst postBut = document.getElementById('post');\r\nconst pause = document.getElementById(`pauseMenu`);\r\n\r\nconst gameButt = document.getElementById('gaming');\r\nconst bookButt = document.getElementById('educational');\r\nconst poliButt = document.getElementById('politics');\r\nconst filmButt = document.getElementById('films');\r\nconst musicButt = document.getElementById('music');\r\nconst sportsButt = document.getElementById('sport');\r\n\r\n// UI\r\nnewPost.addEventListener('click', () => {\r\n\tmodal.style.top = '45%';\r\n\toverlay.style.opacity = '1';\r\n\toverlay.style.pointerEvents = 'auto';\r\n\tGAME.element.style.transform = 'scale(2) translateY(-32px)';\r\n\tGAME.paused = true;\r\n});\r\n\r\npostBut.addEventListener('click', () => {\r\n\tmodal.style.top = '150%';\r\n\toverlay.style.opacity = '0';\r\n\toverlay.style.pointerEvents = 'none';\r\n\tGAME.element.style.transform = 'scale(1)';\r\n\tGAME.paused = false;\r\n\r\n\tcreatePost();\r\n\tunpressButtons();\r\n});\r\n\r\noverlay.addEventListener('click', () => {\r\n\tmenu.style.left = '-150%';\r\n\tmodal.style.top = '200%';\r\n\toverlay.style.opacity = '0';\r\n\toverlay.style.pointerEvents = 'none';\r\n\tGAME.element.style.transform = 'scale(1)';\r\n\tGAME.paused = false;\r\n\tunpressButtons();\r\n});\r\n\r\npause.addEventListener('click', () => {\r\n\tGAME.paused = true;\r\n\tmenu.style.left = '50%';\r\n\toverlay.style.opacity = '1';\r\n\toverlay.style.pointerEvents = 'auto';\r\n});\r\n\r\n//Buttons for the new post thingy\r\ngameButt.addEventListener('click', () => {\r\n\tif (!gameButt.classList.contains('active')) {\r\n\t\tunpressButtons();\r\n\t\tgameButt.classList.add('active');\r\n\t} else {\r\n\t\tgameButt.classList.remove('active');\r\n\t}\r\n});\r\n\r\nbookButt.addEventListener('click', () => {\r\n\tif (!bookButt.classList.contains('active')) {\r\n\t\tunpressButtons();\r\n\t\tbookButt.classList.add('active');\r\n\t} else {\r\n\t\tbookButt.classList.remove('active');\r\n\t}\r\n});\r\n\r\n//Buttons for the new post thingy\r\nfilmButt.addEventListener('click', () => {\r\n\tif (!filmButt.classList.contains('active')) {\r\n\t\tunpressButtons();\r\n\t\tfilmButt.classList.add('active');\r\n\t} else {\r\n\t\tfilmButt.classList.remove('active');\r\n\t}\r\n});\r\n\r\npoliButt.addEventListener('click', () => {\r\n\tif (!poliButt.classList.contains('active')) {\r\n\t\tunpressButtons();\r\n\t\tpoliButt.classList.add('active');\r\n\t} else {\r\n\t\tpoliButt.classList.remove('active');\r\n\t}\r\n});\r\n\r\n//Buttons for the new post thingy\r\nmusicButt.addEventListener('click', () => {\r\n\tif (!musicButt.classList.contains('active')) {\r\n\t\tunpressButtons();\r\n\t\tmusicButt.classList.add('active');\r\n\t} else {\r\n\t\tmusicButt.classList.remove('active');\r\n\t}\r\n});\r\n\r\nsportsButt.addEventListener('click', () => {\r\n\tif (!sportsButt.classList.contains('active')) {\r\n\t\tunpressButtons();\r\n\t\tsportsButt.classList.add('active');\r\n\t} else {\r\n\t\tsportsButt.classList.remove('active');\r\n\t}\r\n});\r\n\r\nfunction unpressButtons(): void {\r\n\tgameButt.classList.remove('active');\r\n\tbookButt.classList.remove('active');\r\n\tfilmButt.classList.remove('active');\r\n\tpoliButt.classList.remove('active');\r\n\tmusicButt.classList.remove('active');\r\n\tsportsButt.classList.remove('active');\r\n}\r\n\r\nfunction createPost() {\r\n\tlet topTheme = 'gaming';\r\n\tlet highestInterest = 0;\r\n\r\n\tGAME.started = true;\r\n\r\n\tfor(const key in GAME.interests) {\r\n\t\tconst interest = GAME.interests[key];\r\n\t\t\r\n\t\tif (interest >= highestInterest) {\r\n\t\t\ttopTheme = key;\r\n\t\t\thighestInterest = interest;\r\n\t\t}\r\n\t}\r\n\r\n\tlet selectedTheme = document.querySelector('button.active');\r\n\tif (selectedTheme === null) return;\r\n\r\n\tconsole.log(selectedTheme.id, topTheme);\r\n\t\r\n\t// TODO: Build this value from multiple factors\r\n\tif (GAME.relevance < 0.5) GAME.relevance = 0.5\r\n\tif (selectedTheme.id === topTheme) GAME.relevance += 0.5;\r\n\r\n\tnewPost.disabled = true;\r\n}","// stats.js - http://github.com/mrdoob/stats.js\n(function(f,e){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=e():\"function\"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();\nu(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel(\"FPS\",\"#0ff\",\"#002\")),h=e(new f.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var t=e(new f.Panel(\"MB\",\"#f08\",\"#201\"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/\n1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=h;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);\nb.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+\" \"+e+\" (\"+g(c)+\"-\"+g(k)+\")\",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});\n","import { State, GameState } from '../state';\r\nimport { convertRange, lerp, loadImage, randomInteger } from '../utils';\r\n\r\n// Sprites\r\nimport spriteLeft from '../../sprites/penguin-left.png';\r\nimport spriteRight from '../../sprites/penguin-right.png';\r\n\r\n// Preload images\r\nconst penguinLeft = loadImage(spriteLeft);\r\nconst penguinRight = loadImage(spriteRight);\r\n\r\n// Global game state\r\nconst GAME: GameState = State();\r\n\r\nexport class Penguin {\r\n\tpublic readonly type = 'penguin';\r\n\tpublic readonly spriteHeight = 92;\r\n\tpublic readonly spriteWidth = 92;\r\n\r\n\tpublic involvement: number;\r\n\tpublic exists: boolean;\r\n\t\r\n\tpublic state: 'spawning' | 'walking' | 'leaving';\r\n\tpublic direction: 'left' | 'right';\r\n\t\r\n\tpublic frame: number;\r\n\tpublic x: number;\r\n\tpublic y: number;\r\n\tpublic visible: boolean;\r\n\r\n\tpublic width: number;\r\n\tpublic height: number;\r\n\r\n\tconstructor(x: number, y: number) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.visible = (GAME.optimize === false);\r\n\r\n\t\tthis.state = 'spawning';\r\n\t\tthis.frame = randomInteger(0, 20);\r\n\t\tthis.direction = randomInteger(0, 1) ? 'left' : 'right';\r\n\r\n\t\tthis.width = this.spriteWidth / 2;\r\n\t\tthis.height = 0;\r\n\t\tthis.exists = true;\r\n\t\tthis.involvement = randomInteger(75, 125);\r\n\t}\r\n\r\n\t/**\r\n\t * Draw penguin\r\n\t */\r\n\tpublic draw(): void {\r\n\t\tconst ctx = GAME.ctx;\r\n\r\n\t\tif (!GAME.started) return;\r\n\r\n\t\t// Remove if its unmounted\r\n\t\tif (!this.exists || !this.visible) return;\r\n\r\n\t\tconst sprite = this.direction === 'left' ? penguinLeft : penguinRight;\r\n\t\tconst size = convertRange(this.y, { min: 0, max: GAME.element.height }, { min: 0, max: 2 });\r\n\t\tconst posY = convertRange(this.y, { min: 0, max: GAME.element.height }, { min: GAME.element.height / 5, max: GAME.element.height });\r\n\r\n\t\t// Skip drawing if its reversed\r\n\t\tif (size < 0) return;\r\n\r\n\t\tctx.save();\r\n\t\tctx.translate(this.x, posY);\r\n\t\tctx.scale(size, size);\r\n\r\n\t\tctx.drawImage(sprite, -(this.width / 2), -this.height + 18, this.width, this.height);\r\n\t\tctx.restore();\r\n\t\t\r\n        // ctx.font = '16px Segoe UI';\r\n        // ctx.textAlign = 'center';\r\n        // ctx.fillText(this.involvement.toFixed(2), this.x, posY);\r\n\t}\r\n\r\n\t/**\r\n\t * Update penguin state\r\n\t */\r\n\tpublic update(): void {\r\n\t\tconst width: number = GAME.element.width;\r\n\t\tconst height: number = GAME.element.height;\r\n\r\n\t\tif (!GAME.started) return;\r\n\r\n\t\t// Remove if its unmounted\r\n\t\tif (!this.exists) return;\r\n\r\n\t\t// Lower involvement\r\n\t\tthis.involvement -= 0.05;\r\n\r\n\t\t// Lower involvement one more time\r\n\t\tif (GAME.relevance <= 0.5) this.involvement -= 0.05;\r\n\t\t\r\n\t\t//\r\n\t\tif (GAME.relevance >= 1) this.involvement += 0.02;\r\n\r\n\t\t// If penguin is not involved\r\n\t\tif (this.involvement <= 0) {\r\n\t\t\tif (!this.visible) {\r\n\t\t\t\tthis.exists = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (GAME.optimize) {\r\n\t\t\t\tconst hiddenPenguin = GAME.entities.find(entity => {\r\n\t\t\t\t\treturn entity.type === 'penguin' && entity.involvement > 0 && entity.visible === false;\r\n\t\t\t\t}) as Penguin;\r\n\r\n\t\t\t\tif (hiddenPenguin) {\r\n\t\t\t\t\tthis.involvement = hiddenPenguin.involvement;\r\n\t\t\t\t\thiddenPenguin.involvement = 0;\r\n\t\t\t\t\thiddenPenguin.exists = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state = 'leaving';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.state = 'leaving';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Dont update visibility parameters\r\n\t\tif (!this.visible) return;\r\n\r\n\t\t// Update frame\r\n\t\tthis.frame += 1;\r\n\t\tif (this.frame > 20) this.frame = 0;\r\n\r\n\t\t// Add views\r\n\t\tif (this.frame === 0) GAME.views += 10;\r\n\r\n\t\t// If walking\r\n\t\tif (this.state === 'walking') {\r\n\t\t\tthis.height = this.frame >= 10 ? lerp(this.height, this.spriteHeight - 24, 0.2) : lerp(this.height, this.spriteHeight + 4, 0.2);\r\n\r\n\t\t\tif (this.direction === 'left') {\r\n\t\t\t\tthis.x -= convertRange(this.y, { min: 0, max: height }, { min: 0, max: 2 });\r\n\t\t\t\tif (this.x <= -this.width) this.x = width + this.width;\r\n\t\t\t} else {\r\n\t\t\t\tthis.x += convertRange(this.y, { min: 0, max: height }, { min: 0, max: 2 });\r\n\t\t\t\tif (this.x >= width + this.width) this.x = -this.width;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Spawning penguin\r\n\t\tif (this.state === 'spawning') {\r\n\t\t\tthis.width = lerp(this.width, this.spriteWidth, 0.1);\r\n\t\t\tthis.height = lerp(this.height, this.spriteHeight, 0.1) + 0.1;\r\n\t\t\tif (this.height >= this.spriteHeight) {\r\n\t\t\t\tthis.state = 'walking';\r\n\t\t\t\tthis.width = this.spriteWidth;\r\n\t\t\t\tthis.height = this.spriteHeight;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Removing penguin\r\n\t\tif (this.state === 'leaving') {\r\n\t\t\tthis.width = lerp(this.width, 0, 0.1);\r\n\t\t\tthis.height = lerp(this.height, 0, 0.1) - 0.1;\r\n\t\t\tif (this.height <= 10) this.exists = false;\r\n\t\t}\r\n\t}\r\n}\r\n","import { State, GameState } from '../state';\r\nimport { convertRange, loadImage, numberWithCommas } from '../utils';\r\n\r\n// Sprites\r\nimport billboardImage from '../../sprites/billboard.png';\r\n\r\n// Preload images\r\nconst billboard = loadImage(billboardImage);\r\n\r\n// Global game state\r\nconst GAME: GameState = State();\r\n\r\nexport class Billboard {\r\n    public readonly type: 'billboard';\r\n\r\n    public exists: boolean;\r\n    \r\n    public x: number;\r\n    public y: number;\r\n    public width: number;\r\n    public height: number;\r\n\r\n    /**\r\n     * Billboard initialization\r\n     */\r\n    constructor() {\r\n        this.x = GAME.element.width / 2;\r\n        this.y = GAME.element.height / 1.5\r\n        this.width = 400;\r\n        this.height = 400;\r\n        this.exists = true;\r\n    }\r\n\r\n    /**\r\n     * Draw sprite on canvas\r\n     */\r\n    public draw(): void {\r\n        const ctx = GAME.ctx;\r\n\r\n        const views = numberWithCommas(Math.floor(GAME.views));\r\n        const penguins = GAME.started ? numberWithCommas(GAME.entities.length - 1) : 0;\r\n        const relevance = GAME.relevance.toFixed(2);\r\n\r\n        const size = convertRange(this.y, { min: 0, max: GAME.element.height }, { min: 0, max: 2 });\r\n        const posY = convertRange(this.y, { min: 0, max: GAME.element.height }, { min: GAME.element.height / 5, max: GAME.element.height });\r\n\r\n        ctx.save();\r\n        ctx.translate(this.x, posY);\r\n        ctx.scale(size, size);\r\n\r\n        ctx.drawImage(billboard, -(this.width / 2), -this.height + 32, this.width, this.height);\r\n        ctx.restore();\r\n\r\n        ctx.font = 'italic 24px Segoe UI';\r\n        ctx.textAlign = 'center';\r\n\r\n        \r\n        ctx.fillText(`Relevance: ${relevance}`, this.x, posY - 400);\r\n        ctx.fillText(`Views: ${views}`, this.x, posY - 360);\r\n        ctx.fillText(`Penguins: ${penguins}`, this.x, posY - 320);\r\n    }\r\n\r\n    /**\r\n     * Update billboard state\r\n     */\r\n    public update(): void {\r\n        this.x = GAME.element.width / 2;\r\n        this.y = GAME.element.height / 1.5;\r\n    }\r\n}","import Stats from 'stats.js';\r\nimport { State, GameState } from './state';\r\nimport { insertionSort, randomInteger, randomFromArray, requestInterval, convertRange } from './utils';\r\n\r\n// Entities\r\nimport { Penguin } from './entities/penguin';\r\nimport { Billboard } from './entities/billboard';\r\n\r\n// Stats setup\r\nconst stats = new Stats();\r\nstats.showPanel(0);\r\nif (process.env.NODE_ENV === 'development') document.body.appendChild(stats.dom);\r\n\r\n// Get state\r\nconst GAME: GameState = State();\r\n\r\n// Spawn penguins\r\nfor (let i = 0; i < 20; i++) {\r\n\tconst x = randomInteger(0, GAME.element.width);\r\n\tconst y = randomInteger(GAME.element.height / 3, GAME.element.height - 64);\r\n\tconst penguin = new Penguin(x, y);\r\n\tGAME.entities.push(penguin);\r\n}\r\n\r\n// Spawn billboard\r\nconst billboard = new Billboard();\r\nGAME.entities.push(billboard);\r\n\r\n// Main loop\r\nfunction loop() {\r\n\t// If game paused\r\n\tif (GAME.paused) {\r\n\t\twindow.requestAnimationFrame(loop);\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Enable optimizations for many entities\r\n\tif (GAME.entities.length > 1000) {\r\n\t\tGAME.optimize = true;\r\n\t} else {\r\n\t\tGAME.optimize = false;\r\n\t}\r\n\r\n\tstats.begin();\r\n\r\n\t// Update entities\r\n\tfor (let i = 0; i < GAME.entities.length; i++) {\r\n\t\tGAME.entities[i].update();\r\n\t}\r\n\r\n\t// Remove all deleted entities\r\n\tGAME.entities = GAME.entities.filter(entity => {\r\n\t\treturn entity.exists;\r\n\t});\r\n\r\n\t// Clean screen\r\n\tGAME.ctx.clearRect(0, 0, GAME.element.width, GAME.element.height);\r\n\r\n\t// Draw entities\r\n\tfor (let i = 0; i < GAME.entities.length; i++) {\r\n\t\tGAME.entities[i].draw();\r\n\t}\r\n\r\n\tstats.end();\r\n\twindow.requestAnimationFrame(loop);\r\n}\r\n\r\n\r\ndocument.getElementById('start-button').onclick = () => {\r\n\tloop();\r\n\tGAME.paused = false;\r\n\tdocument.getElementById('start-menu').remove();\r\n}\r\n\r\nGAME.paused = true;\r\n\r\n","import { Penguin } from './entities/penguin';\r\nimport { State, GameState } from './state';\r\nimport { randomInteger, requestInterval, insertionSort, average, requestTimeout } from './utils';\r\n\r\n// Get state\r\nconst GAME: GameState = State();\r\n\r\n// Elements\r\nconst news = document.getElementById('news');\r\n\r\n// Show news blocks\r\nconst newsInterval = requestInterval(() => {\r\n\tif (GAME.paused) return;\r\n\tnextNewsBlock();\r\n}, 10000);\r\n\r\n// Speedup timer\r\nlet newsUpdateTime = 10000;\r\nrequestInterval(() => {\r\n\tif (newsUpdateTime <= 5000) return;\r\n\r\n\tnewsUpdateTime -= 500;\r\n\tnewsInterval(newsUpdateTime);\r\n}, 20000);\r\n\r\n// TODO: Remove\r\nlet weShouldStopThisGame = false;\r\n\r\n// Relevance update\r\nrequestInterval(() => {\r\n\tif (GAME.paused) return;\r\n\tif (!GAME.started) return;\r\n\r\n\t// TODO: Tricky pricky trick, REMOVE IT\r\n\tif (GAME.entities.length > 3000) weShouldStopThisGame = true;\r\n\tif (weShouldStopThisGame && GAME.relevance > 0.9) GAME.relevance -= 0.1;\r\n\r\n\tGAME.relevance -= 0.03;\r\n\tif (GAME.relevance > 1.2) GAME.relevance -= 0.02;\r\n\t\r\n\r\n\tif (GAME.relevance < 0) GAME.relevance = 0;\r\n\tif (GAME.relevance > 2) GAME.relevance = 2;\r\n}, 1000);\r\n\r\n// TODO: Optimize Penguins view, increase penguins number without creating more entities\r\n\r\n// Spawn penguins\r\nrequestInterval(() => {\r\n\tif (GAME.paused) return;\r\n\tif (!GAME.started) return;\r\n\r\n\tconst spawnCoefficent = 5;\r\n\tconst penguinMultiplier = GAME.entities.length / spawnCoefficent;\r\n\r\n\tlet toSpawn = Math.floor(penguinMultiplier * GAME.relevance) - penguinMultiplier;\r\n\tif (GAME.relevance > 1) toSpawn += 1;\r\n\r\n\tfor (let i = 0; i < toSpawn; i++) {\r\n\t\tconst x = randomInteger(0, GAME.element.width);\r\n\t\tconst y = randomInteger(GAME.element.height / 3, GAME.element.height - 64);\r\n\t\tconst penguin = new Penguin(x, y);\r\n\t\tGAME.entities.push(penguin);\r\n\t}\r\n\r\n\tinsertionSort(GAME.entities, 'y');\r\n}, 1000);\r\n\r\n/**\r\n * Next news block\r\n */\r\nfunction nextNewsBlock() {\r\n\tconst index = GAME.newsIndex;\r\n\tconst interests = GAME.interests;\r\n\r\n\tconst latest = GAME.news[index];\r\n\tconst seccond = GAME.news[index - 1]\r\n\tconst first = GAME.news[index - 2]\r\n\t\r\n\t// Remove old news block\r\n\tconst oldBlock = news.querySelector('.old');\r\n\tif (oldBlock) oldBlock.remove();\r\n\r\n\t// Create next post\r\n\tconst nextBlock = document.createElement('div');\r\n\tnextBlock.className = 'news-block next';\r\n\r\n\t// Title\r\n\tconst title = document.createElement('h3');\r\n\ttitle.innerText = latest.title;\r\n\r\n\t// Content\r\n\tconst content = document.createElement('p');\r\n\tcontent.innerText = latest.content;\r\n\r\n\t// Build element\r\n\tnextBlock.appendChild(title);\r\n\tnextBlock.appendChild(content);\r\n\tnews.appendChild(nextBlock);\r\n\r\n\t// Move all blocks\r\n\tconst blockOne = news.querySelector('.news-block.one');\r\n\tif (blockOne) blockOne.className = 'news-block old';\r\n\r\n\tconst blockTwo = news.querySelector('.news-block.two');\r\n\tif (blockTwo) blockTwo.className = 'news-block one';\r\n\r\n\tconst blockLast = news.querySelector('.news-block.last');\r\n\tif (blockLast) blockLast.className = 'news-block two';\r\n\r\n\tsetTimeout(() => {\r\n\t\tconst lastBlock = news.querySelector('.next');\r\n\t\tif (lastBlock) lastBlock.className = 'news-block last';\r\n\t});\r\n\r\n\tinterests.gaming = average([\r\n\t\tlatest.gaming, \r\n\t\tseccond ? seccond.gaming : latest.gaming, \r\n\t\tfirst ? first.gaming : latest.gaming, \r\n\t]);\r\n\r\n\tinterests.films = average([\r\n\t\tlatest.films, \r\n\t\tseccond ? seccond.films : latest.films, \r\n\t\tfirst ? first.films : latest.films, \r\n\t]);\r\n\r\n\tinterests.music = average([\r\n\t\tlatest.music, \r\n\t\tseccond ? seccond.music : latest.music, \r\n\t\tfirst ? first.music : latest.music, \r\n\t]);\r\n\r\n\tinterests.sport = average([\r\n\t\tlatest.sport, \r\n\t\tseccond ? seccond.sport : latest.sport, \r\n\t\tfirst ? first.sport : latest.sport, \r\n\t]);\r\n\r\n\tinterests.politics = average([\r\n\t\tlatest.politics, \r\n\t\tseccond ? seccond.politics : latest.politics, \r\n\t\tfirst ? first.politics : latest.politics, \r\n\t]);\r\n\r\n\tinterests.educational = average([\r\n\t\tlatest.educational, \r\n\t\tseccond ? seccond.educational : latest.educational, \r\n\t\tfirst ? first.educational : latest.educational, \r\n\t]);\r\n\r\n\t// Clamp down\r\n\tif (interests.gaming < 0) interests.gaming = 0;\r\n\tif (interests.films < 0) interests.films = 0;\r\n\tif (interests.music < 0) interests.music = 0;\r\n\tif (interests.sport < 0) interests.sport = 0;\r\n\tif (interests.politics < 0) interests.politics = 0;\r\n\tif (interests.educational < 0) interests.educational = 0;\r\n\r\n\t// Clamp up\r\n\tif (interests.gaming > 10) interests.gaming = 10;\r\n\tif (interests.films > 10) interests.films = 10;\r\n\tif (interests.music > 10) interests.music = 10;\r\n\tif (interests.sport > 10) interests.sport = 10;\r\n\tif (interests.politics > 10) interests.politics = 10;\r\n\tif (interests.educational > 10) interests.educational = 10;\r\n\r\n\tconsole.log(interests);\r\n\t(document.getElementById('newPost') as HTMLButtonElement).disabled = false;\r\n\r\n\tGAME.newsIndex += 1;\r\n\tif (GAME.newsIndex >= GAME.news.length) GAME.newsIndex = 0;\r\n}\r\n","import { State } from './core/state';\r\nimport { shuffle } from './core/utils';\r\n\r\n// Array of news\r\nimport { all_news } from './content.json';\r\n\r\n// Setup canvas element\r\nconst stage = document.getElementById('stage') as HTMLCanvasElement;\r\nstage.width = window.innerWidth * window.devicePixelRatio;\r\nstage.height = window.innerHeight * window.devicePixelRatio;\r\n\r\n// Setup canvas context\r\nconst ctx = stage.getContext('2d');\r\nctx.imageSmoothingEnabled = false;\r\n\r\n// State initialization\r\nState({\r\n\tpaused: false,\r\n\telement: stage,\r\n\tctx: ctx,\r\n\toptimize: false,\r\n\r\n\tmouseX: 0,\r\n\tmouseY: 0,\r\n\tmouseDown: false,\r\n\r\n\tentities: [],\r\n\tstarted: false,\r\n\tviews: 0,\r\n\trelevance: 1,\r\n\tinterests: {\r\n\t\tgaming: 5,\r\n\t\tfilms: 5,\r\n\t\tmusic: 5,\r\n\t\tsport: 5,\r\n\t\tpolitics: 5,\r\n\t\teducational: 5,\r\n\t},\r\n\r\n\tnews: shuffle(all_news),\r\n\tnewsIndex: 0,\r\n});\r\n\r\n// Input module\r\nimport './core/input';\r\n\r\n// Game UI\r\nimport './core/gui';\r\n\r\n// Main game code\r\nimport './core/main';\r\n\r\n// Game logic timers\r\nimport './core/timers';\r\n"]}